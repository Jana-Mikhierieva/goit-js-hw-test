{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/search-form.js","../src/js/pagination.js","../src/js/event.js"],"sourcesContent":["import axios from \"axios\";\nconst API_KEY = 'uHSLi07StIOlriMPxJGxUbSYsHDs6AFx';\naxios.defaults.baseURL = 'https://app.ticketmaster.com/discovery/v2/';\nexport async function fetchData(page, value) {\n    const asyncParams = {\n        params: {\n            apikey: API_KEY,\n            page: page,\n            keyword: value,\n        },\n    };\n    const response = await axios.get('events.json', asyncParams);\n    return response.data;\n};","import { renderEvent } from \"./event\";\nimport { page } from \"./pagination\";\nconst gallery = document.querySelector('.gallery-events');\nconst form = document.querySelector('.form');\nexport let value = '';\nconst handleSubmit = event => {\n    event.preventDefault();\n    gallery.innerHTML = '';\n    value = event.target.elements.input.value;\n    renderEvent(page, value);\n    form.reset();\n}\nform.addEventListener('submit', handleSubmit);","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { renderEvent } from './event';\nimport { value } from './search-form';\nconst options = {\n  totalItems: 0,\n  itemsPerPage: 20,\n  visiblePages: 5,\n  page: 1,\n  centerAlign: false,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage: '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>'\n  }\n};\n\nconst pagination = new Pagination('pagination', options);\nexport const page = pagination.getCurrentPage();\nexport function reset(totalItems) {\n    pagination.reset(totalItems);\n}\npagination.on('afterMove', (event) => {\n    const currentPage = event.page;\n    console.log(currentPage);\n    renderEvent(currentPage, value);\n});","import { fetchData } from './api';\nimport { page, reset } from './pagination';\nimport { value } from './search-form';\nconst gallery = document.querySelector('.gallery-events');\nconst eventsTemplate = (arrayEvents) => {\n    const markup = arrayEvents.map(({ name }) => `<li>\n        <p>${name}</p>\n    </li>`).join('');\n    gallery.innerHTML = markup;\n}\nexport async function renderEvent(page, value) {\n    try {\n        const arrayEvent = await fetchData(page, value);\n        if (!arrayEvent.page.totalElements) {\n            alert('Try again!');\n            return;\n    }    \n    if (page === 1) {\n        reset(arrayEvent.page.totalElements);\n    }\n    eventsTemplate(arrayEvent._embedded.events);\n    } catch (err) {\n        console.error(err);        \n    }    \n    };\nrenderEvent(page, value);"],"names":["API_KEY","axios","fetchData","page","value","asyncParams","gallery","form","handleSubmit","event","renderEvent","options","pagination","Pagination","reset","totalItems","currentPage","eventsTemplate","arrayEvents","markup","name","arrayEvent","err"],"mappings":"6vBACA,MAAMA,EAAU,mCAChBC,EAAM,SAAS,QAAU,6CAClB,eAAeC,EAAUC,EAAMC,EAAO,CACzC,MAAMC,EAAc,CAChB,OAAQ,CACJ,OAAQL,EACR,KAAMG,EACN,QAASC,CACZ,CACT,EAEI,OADiB,MAAMH,EAAM,IAAI,cAAeI,CAAW,GAC3C,IACpB,CCXA,MAAMC,EAAU,SAAS,cAAc,iBAAiB,EAClDC,EAAO,SAAS,cAAc,OAAO,EACpC,IAAIH,EAAQ,GACnB,MAAMI,EAAeC,GAAS,CAC1BA,EAAM,eAAc,EACpBH,EAAQ,UAAY,GACpBF,EAAQK,EAAM,OAAO,SAAS,MAAM,MACpCC,EAAYP,EAAMC,CAAK,EACvBG,EAAK,MAAK,CACd,EACAA,EAAK,iBAAiB,SAAUC,CAAY,ECR5C,MAAMG,EAAU,CACd,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,EACN,YAAa,GACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACR,KAAM,gDACN,YAAa,iEACb,WACE,mGAGF,mBACE,gHAGF,WACE,mGAGH,CACH,EAEMC,EAAa,IAAIC,EAAW,aAAcF,CAAO,EAC1CR,EAAOS,EAAW,iBACxB,SAASE,EAAMC,EAAY,CAC9BH,EAAW,MAAMG,CAAU,CAC/B,CACAH,EAAW,GAAG,YAAcH,GAAU,CAClC,MAAMO,EAAcP,EAAM,KAC1B,QAAQ,IAAIO,CAAW,EACvBN,EAAYM,EAAaZ,CAAK,CAClC,CAAC,ECpCD,MAAME,EAAU,SAAS,cAAc,iBAAiB,EAClDW,EAAkBC,GAAgB,CACpC,MAAMC,EAASD,EAAY,IAAI,CAAC,CAAE,KAAAE,CAAM,IAAK;AAAA,aACpCA,CAAI;AAAA,UACP,EAAE,KAAK,EAAE,EACfd,EAAQ,UAAYa,CACxB,EACO,eAAeT,EAAYP,EAAMC,EAAO,CAC3C,GAAI,CACA,MAAMiB,EAAa,MAAMnB,EAAUC,EAAMC,CAAK,EAC9C,GAAI,CAACiB,EAAW,KAAK,cAAe,CAChC,MAAM,YAAY,EAClB,MACP,CACGlB,IAAS,GACTW,EAAMO,EAAW,KAAK,aAAa,EAEvCJ,EAAeI,EAAW,UAAU,MAAM,CACzC,OAAQC,EAAK,CACV,QAAQ,MAAMA,CAAG,CACpB,CACL,CACAZ,EAAYP,EAAMC,CAAK"}